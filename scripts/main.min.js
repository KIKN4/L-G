const n=document.querySelector(".nav"),h=document.querySelector(".hamburger"),ne=document.querySelectorAll(".nav__item");h.addEventListener("click",()=>{n.classList.toggle("nav--open"),h.classList.toggle("hamburger--open")}),ne.forEach(e=>{e.addEventListener("click",()=>{n.classList.remove("nav--open"),h.classList.remove("hamburger--open")})}),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".nav__link"),t=document.querySelectorAll("#useful-links .links a"),l=document.querySelectorAll("#services .links a"),r=document.querySelector(".header").offsetHeight;function i(t){t.preventDefault();let l=t.target.getAttribute("href").substring(1),i=document.getElementById(l),s=i.offsetTop-r-50;window.scrollTo({top:s,behavior:"smooth"}),e.forEach(e=>{e.classList.remove("active")}),t.target.classList.add("active")}e.forEach(e=>{e.addEventListener("click",i)}),t.forEach(e=>{e.addEventListener("click",i)}),l.forEach(e=>{e.addEventListener("click",i)})});const fa=document.querySelectorAll(".faq-container");fa.forEach(e=>{e.addEventListener("click",()=>{e.classList.toggle("active")})});let ci=0;const sl=document.querySelector(".gallery-slide"),ti=document.querySelectorAll(".gallery-item").length;function ms(e){(ci+=e)<0&&(ci=ti-1),ci>=ti&&(ci=0),sl.style.transform=`translateX(-${100*ci}%)`}document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".reveal"),t=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("active"),t.unobserve(e.target))})},{threshold:.1});e.forEach(e=>{t.observe(e)})});const sli=document.querySelector(".slider"),slic=document.getElementById("slider-container");function a(e){let t=document.querySelectorAll(".item");e.target.matches(".next")&&sli.append(t[0]),e.target.matches(".prev")&&sli.prepend(t[t.length-1])}slic.addEventListener("click",a,!1),document.addEventListener("DOMContentLoaded",function(){let e=[{state:"New York",address:"123 NY St, New York, NY 10001",zip:"10001",lat:40.7128,lng:-74.006},{state:"New Jersey",address:"456 NJ Ave, Newark, NJ 07101",zip:"07101",lat:40.7357,lng:-74.1724},{state:"Pennsylvania",address:"789 PA Blvd, Philadelphia, PA 19103",zip:"19103",lat:39.9526,lng:-75.1652},{state:"Connecticut",address:"101 CT Rd, Hartford, CT 06103",zip:"06103",lat:41.7658,lng:-72.6734},],t=document.getElementById("location-list");e.forEach(e=>{let l=document.createElement("li");l.className="location-item",l.innerHTML=`
          <div class="location-state">${e.state}</div>
          <div class="location-zip">${e.zip}</div>
      `,t.appendChild(l)});let l=L.map("map").setView([40.7128,-74.006],6);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(l);let r=L.divIcon({className:"custom-icon",html:'<i class="fa-solid fa-location-dot"></i>',iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]});e.forEach(e=>{L.marker([e.lat,e.lng],{icon:r}).addTo(l).bindPopup(`<b>${e.state}</b><br>Zip Code: ${e.zip}`)})}),document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("contact-form");e?e.addEventListener("submit",function(t){t.preventDefault();let l={firstName:document.getElementById("firstName").value,lastName:document.getElementById("lastName").value,email:document.getElementById("email").value,phone:document.getElementById("phone").value,help:document.getElementById("help").value};fetch("https://lgsealcoating.com/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then(e=>e.json()).then(t=>{t.error?alert("Failed to send email: "+t.error):(alert("Email sent successfully!"),e.reset())}).catch(e=>{console.error("Error:",e),alert("Failed to send email")})}):console.error("Form element not found")});
