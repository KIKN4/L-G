const e = document.querySelector(".nav");
const n = document.querySelector(".hamburger");
const t = document.querySelectorAll(".nav__item");
n.addEventListener("click", () => {
  e.classList.toggle("nav--open");
  n.classList.toggle("hamburger--open");
});
t.forEach((t) => {
  t.addEventListener("click", () => {
    e.classList.remove("nav--open");
    n.classList.remove("hamburger--open");
  });
});
document.addEventListener("DOMContentLoaded", function () {
  const c = document.querySelectorAll(".nav__link");
  const t = document.querySelectorAll("#useful-links .links a");
  const e = document.querySelectorAll("#services .links a");
  const s = document.querySelector(".header").offsetHeight;
  const a = 50;
  function n(t) {
    t.preventDefault();
    const e = t.target.getAttribute("href").substring(1);
    const n = document.getElementById(e);
    const o = n.offsetTop - s - a;
    window.scrollTo({ top: o, behavior: "smooth" });
    c.forEach((t) => {
      t.classList.remove("active");
    });
    t.target.classList.add("active");
  }
  c.forEach((t) => {
    t.addEventListener("click", n);
  });
  t.forEach((t) => {
    t.addEventListener("click", n);
  });
  e.forEach((t) => {
    t.addEventListener("click", n);
  });
});
const o = document.querySelectorAll(".faq-container");
o.forEach((t) => {
  t.addEventListener("click", () => {
    t.classList.toggle("active");
  });
});
let c = 0;
const s = document.querySelector(".gallery-slide");
const a = document.querySelectorAll(".gallery-item").length;
function i(t) {
  c += t;
  if (c < 0) c = a - 1;
  if (c >= a) c = 0;
  s.style.transform = `translateX(-${c * 100}%)`;
}
document.addEventListener("DOMContentLoaded", function () {
  const t = document.querySelectorAll(".reveal");
  const e = new IntersectionObserver(
    (t, e) => {
      t.forEach((t) => {
        if (t.isIntersecting) {
          t.target.classList.add("active");
          e.unobserve(t.target);
        }
      });
    },
    { threshold: 0.1 }
  );
  t.forEach((t) => {
    e.observe(t);
  });
});
const l = document.querySelector(".slider");
const d = document.getElementById("slider-container");
d.addEventListener("click", m, false);
function m(t) {
  const e = document.querySelectorAll(".item");
  t.target.matches(".next") && l.append(e[0]);
  t.target.matches(".prev") && l.prepend(e[e.length - 1]);
}
document.addEventListener("DOMContentLoaded", function () {
  const t = [
    {
      state: "New York",
      address: "123 NY St, New York, NY 10001",
      t: "10001",
      o: 40.7128,
      i: -74.006,
    },
    {
      state: "New Jersey",
      address: "456 NJ Ave, Newark, NJ 07101",
      t: "07101",
      o: 40.7357,
      i: -74.1724,
    },
    {
      state: "Pennsylvania",
      address: "789 PA Blvd, Philadelphia, PA 19103",
      t: "19103",
      o: 39.9526,
      i: -75.1652,
    },
    {
      state: "Connecticut",
      address: "101 CT Rd, Hartford, CT 06103",
      t: "06103",
      o: 41.7658,
      i: -72.6734,
    },
  ];
  const n = document.getElementById("location-list");
  t.forEach((t) => {
    const e = document.createElement("li");
    e.className = "location-item";
    e.innerHTML = `
          <div class="location-state">${t.state}</div>
          <div class="location-zip">${t.t}</div>
      `;
    n.appendChild(e);
  });
  const e = L.map("map").setView([40.7128, -74.006], 6);
  L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
    attribution:
      '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
  }).addTo(e);
  const o = L.divIcon({
    className: "custom-icon",
    l: '<i class="fa-solid fa-location-dot"></i>',
    m: [32, 32],
    u: [16, 32],
    p: [0, -32],
  });
  t.forEach((t) => {
    L.marker([t.o, t.i], { icon: o })
      .addTo(e)
      .bindPopup(`<b>${t.state}</b><br>Zip Code: ${t.t}`);
  });
});
document.addEventListener("DOMContentLoaded", function () {
  const n = document.getElementById("contact-form");
  if (n) {
    n.addEventListener("submit", function (t) {
      t.preventDefault();
      const e = {
        h: document.getElementById("firstName").value,
        v: document.getElementById("lastName").value,
        email: document.getElementById("email").value,
        phone: document.getElementById("phone").value,
        g: document.getElementById("help").value,
      };
      fetch("https://lgsealcoating.com/send-email", {
        method: "POST",
        headers: { k: "application/json" },
        body: JSON.stringify(e),
      })
        .then((t) => t.json())
        .then((t) => {
          if (t.error) {
            alert("Failed to send email: " + t.error);
          } else {
            alert("Email sent successfully!");
            n.reset();
          }
        })
        ["catch"]((t) => {
          console.error("Error:", t);
          alert("Failed to send email");
        });
    });
  } else {
    console.error("Form element not found");
  }
});
